var ScrollToFancy=function(e){function a(){var e="scroll-to-reveal",a=l.scrollToRevealOffset,t=document.body,n=document.querySelectorAll("[data-reveal]:not(.scroll-to-reveal-hide)"),r=[],i=function(){if(r=[],!(window.innerWidth>=l.scrollToRevealMinWidth))return t.classList.remove(e),!1;t.classList.add(e);for(var a=0;a<n.length;a++){var o=n[a];o.classList.add("scroll-to-reveal-hide"),r.push({revealed:!1,element:o,offset:Math.round(o.getBoundingClientRect().top+document.documentElement.scrollTop),animation:o.getAttribute("data-reveal"),delay:parseInt(o.getAttribute("data-reveal-delay"))})}},s=function(){if(!t.classList.contains("scroll-to-reveal")||0===r.length)return!1;for(var e=Math.round(o+(window.innerHeight-a)),l=0;l<r.length;l++){var n=r[l];!n.revealed&&n.offset<e&&n.offset>e-window.innerHeight&&(n.delay&&(n.element.style.animationDelay=n.delay+"ms"),n.element.classList.add(n.animation),r[l].revealed=!0)}};i(),s(),window.addEventListener("resize",function(){window.requestAnimationFrame(i),window.requestAnimationFrame(s)}),window.addEventListener("scroll",function(){window.requestAnimationFrame(s)})}function t(){var e="scroll-to-parallax",a=document.querySelectorAll("[data-parallax], [data-parallax-bg]"),t=.5,n=[];if(!a)return!1;var r=function(){if(n=[],!(window.innerWidth>=l.parallaxMinWidth)){document.body.classList.remove(e);for(var o=0;o<a.length;o++){var r=a[o];r.classList.remove("has-parallax"),r.hasAttribute("data-parallax")&&(r.style.transform=""),r.hasAttribute("data-parallax-bg")&&(r.style.backgroundPosition="")}return!1}document.body.classList.add(e);for(var o=0;o<a.length;o++){var r=a[o];switch(r.classList.add("has-parallax"),!0){case r.hasAttribute("data-parallax"):scrollSpeed=parseFloat(r.getAttribute("data-parallax"));break;case r.hasAttribute("data-parallax-bg"):scrollSpeed=parseFloat(r.getAttribute("data-parallax-bg"));break;default:scrollSpeed=t}isNaN(scrollSpeed)&&(scrollSpeed=t),n.push({element:r,isBackground:!!r.hasAttribute("data-parallax-bg"),offset:Math.round(r.getBoundingClientRect().top+document.documentElement.scrollTop),height:r.offsetHeight,position:r.hasAttribute("data-parrallax-position")?r.getAttribute("data-parrallax-position"):"center",speed:scrollSpeed})}},i=function(){var e=1e3;if(0===n.length)return!1;for(var a=(Math.round(o+100*(window.innerHeiht-e))/100,0);a<n.length;a++){var t=n[a];if(window.innerHeight+o>t.offset&&o<t.offset+t.height){var l=(o-t.offset)*t.speed;t.isBackground===!0?t.element.style.backgroundPosition="center "+l+"px":t.element.style.transform="translate(0, "+l+"px)"}}};r(),i(),window.addEventListener("resize",function(){window.requestAnimationFrame(r),window.requestAnimationFrame(i)}),window.addEventListener("scroll",function(){window.requestAnimationFrame(i)})}var l={parallax:!0,parallaxMinWidth:800,scrollToReveal:!0,scrollToRevealMinWidth:800,scrollToRevealOffset:140},o=0;this.init=function(e){"parallax"in e&&"boolean"==typeof e.parallax&&(l.parallax=e.parallax),"parallaxMinWidth"in e&&"number"==typeof e.parallaxMinWidth&&(l.parallaxMinWidth=e.parallaxMinWidth),"scrollToReveal"in e&&"boolean"==typeof e.scrollToReveal&&(l.scrollToReveal=e.scrollToReveal),"scrollToRevealMinWidth"in e&&"number"==typeof e.scrollToRevealMinWidth&&(l.scrollToRevealMinWidth=e.scrollToRevealMinWidth),"scrollToRevealOffset"in e&&"number"==typeof e.scrollToRevealOffset&&(l.scrollToRevealOffset=e.scrollToRevealOffset),window.addEventListener("scroll",function(){window.requestAnimationFrame(function(){o=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop})}),l.parallax===!0&&t(),l.scrollToReveal===!0&&a()},init(e)};